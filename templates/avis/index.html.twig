{# templates/avis/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Avis des clients
{% endblock %}

{% block body %}
	<div class="container mt-4">
		<h1 class="mb-4">Avis des clients</h1>

		{# Afficher les messages flash si présents #}
		{% for message in app.flashes('success') %}
			<div class="alert alert-success">{{ message }}</div>
		{% endfor %}

		{# Lien vers la page d'ajout d'avis, placé en haut #}
		{# <a href="{{ path('ajouter_avis') }}" class="btn btn-primary mb-3">Ajouter un avis</a> #}

		{# Afficher la liste des avis #}
		<table class="table table-striped">
			<thead>
				<tr>
					<th>Nom</th>
					<th>Commentaire</th>
					<th>Note</th>
				</tr>
			</thead>
			<tbody>
				{% for avis in avis %}
					<tr>
						<td>{{ avis.nom }}</td>
						<td>{{ avis.commentaire }}</td>
						<td>
							{% for i in 1..5 %}
								{% if i <= avis.note %}
									⭐
								{% else %}
									☆
								{% endif %}
							{% endfor %}
							({{ avis.note }}/5)
						</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="3" class="text-center">Aucun avis pour le moment.</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>

		{# Lien vers la page d'ajout d'avis, placé en bas également #}
		{# <a href="{{ path('ajouter_avis') }}" class="btn btn-primary mt-3">Ajouter un avis</a> #}
	</div>
{% endblock %}

