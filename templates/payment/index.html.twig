{% extends 'base.html.twig' %}

{% block title %}Paiement{% endblock %}

{% block body %}
    <h2>Paiement de votre commande</h2>

    <p>Total à payer : <strong>{{ total }} €</strong></p>

    <div>
        <h3>Détails de votre commande</h3>
        <ul>
            {% for item in order.items %}
                <li>{{ item.produit.nomDuProduit }} - {{ item.quantity }} x {{ item.produit.prix }} €</li>
            {% endfor %}
        </ul>
    </div>

    <form action="{{ path('payment_confirm') }}" method="POST">
        <div>
            <label for="payment_method">Méthode de paiement</label>
            <select name="payment_method" id="payment_method">
                <option value="stripe">Stripe</option>
                <option value="paypal">PayPal</option>
            </select>
        </div>

        <div>
            <label for="card_number">Numéro de carte</label>
            <input type="text" id="card_number" name="card_number" required />
        </div>

        <div>
            <label for="expiration_date">Date d'expiration</label>
            <input type="text" id="expiration_date" name="expiration_date" required />
        </div>

        <div>
            <label for="cvv">CVV</label>
            <input type="text" id="cvv" name="cvv" required />
        </div>

        <button type="submit">Payer</button>
    </form>
{% endblock %}
